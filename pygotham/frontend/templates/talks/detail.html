{% extends 'layouts/base.html' %}

{% block title %}Talk - {{ talk }} - {{ super() }}{% endblock %}

{% block main %}
  <div class="row">
    <h1>{{ talk }}</h1>

    {% if talk.presentation %}
      <small>{{ talk.presentation.slot }}</small>
    {% endif %}

    <h4>
      <a href="{{ url_for('speakers.profile', pk=talk.user.id) }}">
        {{ talk.user }}
      </a>
    </h4>
    {% for presenter in talk.co_presenters.all() %}
      <h4>
      {% if presenter.user %}
        <a href="{{ url_for('speakers.profile', pk=presenter.user.id) }}">
          {{ presenter.user }}
        </a>
      {% else %}
          {{ presenter.name }}
      {% endif %}
      </h4>
    {% endfor %}
    <dl>
      <dt>Audience level:
      <dd>{{ talk.level }}
      {% if talk.category %}
        <dt>Category:
        <dd>{{ talk.category }}
      {% endif %}
      {% if talk.video_url %}
        <dt>Watch:
        <dd><a href="{{ talk.video_url }}">{{ talk.video_url }}</a>
      {% endif %}
    </dl>

    <h3>Description</h3>
    {{ talk.description|rst|safe }}

    {% if talk.abstract %}
      <h3>Abstract</h3>
      {{ talk.abstract|rst|safe }}
    {% endif %}
  </div>
{% endblock %}
